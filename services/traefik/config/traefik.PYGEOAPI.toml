# Traefik v3.x configuration
# Updated for v3.5.2 compatibility

[entryPoints]
  [entryPoints.http]
    address = ":80"
    [entryPoints.http.http]
      [entryPoints.http.http.redirections]
        [entryPoints.http.http.redirections.entryPoint]
          to = "https"
          scheme = "https"

  [entryPoints.https]
    address = ":443"

[certificatesResolvers]
  [certificatesResolvers.le]
    [certificatesResolvers.le.acme]
      email = "just@justobjects.nl"
      storage = "/certificates/acme.json"
      keyType = "EC256"
      [certificatesResolvers.le.acme.tlsChallenge]

[providers]
  [providers.docker]
    endpoint = "unix:///var/run/docker.sock"
    exposedByDefault = false
    network = "pygeoapi-network"
    watch = true

  [providers.file]
    directory = "/etc/traefik/dynamic"
    watch = true

[log]
  level = "INFO"
  filePath = "/var/log/traefik/traefik.log"

[accessLog]
  filePath = "/var/log/traefik/access.log"

[api]
  dashboard = false

[global]
  checkNewVersion = false
  sendAnonymousUsage = false
